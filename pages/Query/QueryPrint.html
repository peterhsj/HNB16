<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>華南銀行 - 國內信用狀系統</title>
  <link rel="stylesheet" href="../../assets/MaterialDesign-Webfont/css/materialdesignicons.min.css" media="all" />
  <link rel="stylesheet" href="../../assets/css/custom.css">

  <!-- flatpick plugin -->
  <link rel="stylesheet" href="../../assets/flatpickr/flatpickr.min.css">
  <script src="../../assets/flatpickr/flatpickr.js"></script>
  <script src="../../assets/flatpickr/zh-tw.js"></script>
</head>

<body>
  <!-- 列印視窗 -->
  <div id="printList" class="p-4">
    <!-- 查詢註銷申請/切結書 -->
    <div class="container-fluid">
      <div class="row">
        <div class="col-12 fs-1-5 fw-bold text-center hnb__bankName">
          <span class="pe-5">華南商業銀行</span>
          <span>國內信用狀電子化作業主管核准明細表</span>
        </div>
        <div class="my-3 col-5">
          <span class="fw-bold">單位代號：</span>
          <span>700 高雄分行</span>
        </div>
        <div class="my-3 col-7">
          <span>中華民國 114 年 05 月 10 日</span>
        </div>
      </div>
      <div class="row"></div>
    </div>
    <div class="table-responsive">
      <table class="mb-0 table table-striped table-sm hnb__table--print hnb__bg--white">
        <thead>
          <tr>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">編號</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">借款人統編</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">借款人名稱</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">信用狀號碼</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">信用狀別</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">信用狀金額</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">核准時間</th>
            <th rowspan="2" scope="col" class="hnb__tbhd text-nowrap">授權原因</th>
            <th colspan="2" scope="col" class="hnb__tbhd text-nowrap">授權主管</th>
          </tr>
          <tr>
            <th scope="col" class="hnb__tbhd text-nowrap">帳號</th>
            <th scope="col" class="hnb__tbhd text-nowrap">姓名</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center">1</td>
            <td class="text-center">12345678</td>
            <td>泰西企業股份有限公司</td>
            <td class="text-center">094222007123456001</td>
            <td class="text-center">即期</td>
            <td class="text-end">$5,000,000</td>
            <td class="text-center">2005/06/29 20:19:48.233</td>
            <td class="text-center">核准開狀</td>
            <td>manager</td>
            <td>manager</td>
          </tr>
          <tr>
            <td class="text-center">2</td>
            <td class="text-center">85236974</td>
            <td>泰西企業股份有限公司</td>
            <td class="text-center">094222007123456001</td>
            <td class="text-center">遠期</td>
            <td class="text-end">$10</td>
            <td class="text-center">2005/06/29 20:19:48.233</td>
            <td class="text-center">核准修改</td>
            <td>manager</td>
            <td>manager</td>
          </tr>
          <tr>
            <td class="text-center">3</td>
            <td class="text-center">65478932</td>
            <td>泰西企業股份有限公司</td>
            <td class="text-center">094222007123456001</td>
            <td class="text-center">即期</td>
            <td class="text-end">&nbsp;</td>
            <td class="text-center">2005/06/29 20:19:48.233</td>
            <td class="text-center">核准開狀</td>
            <td>HN2221</td>
            <td>HN2221</td>
          </tr>
          <tr>
            <td class="text-center">4</td>
            <td class="text-center">96258741</td>
            <td>泰西企業股份有限公司</td>
            <td class="text-center">094222007123456001</td>
            <td class="text-center">即期</td>
            <td class="text-end">$10</td>
            <td class="text-center">2005/06/29 20:19:48.233</td>
            <td class="text-center">核准開狀</td>
            <td>HN2221</td>
            <td>HN2221</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="my-3 container-fluid">
      <div class="row">
        <div class="col-3">
          <span class="fw-bold">主管</span>
        </div>
        <div class="col-3">
          <span class="fw-bold">會計</span>
        </div>
        <div class="col-3">
          <span class="fw-bold">經辦</span>
        </div>
        <div class="col-3">
          <span class="fw-bold">保存年限：五年</span>
        </div>
      </div>
      <div class="row"></div>
    </div>
  </div>

  <!-- JS -->
  <script src="../../assets/js/page.js"></script>
  <script>
    console.log('authType:', authType);
    let currentEditType = '';
    // 查詢控制項
    const queryForm = document.querySelector('#queryForm');
    const queryList = document.querySelector('#queryList');
    const lcForCdsAppList = document.querySelector('#lcForCdsAppList');
    const lcAppList = document.querySelector('#lcAppList');
    const lcforOtherAppList = document.querySelector('#lcforOtherAppList');


    // 查詢開狀申請書 searchHandler
    function searchHandler() {
      queryList.classList.remove('hnb__hide');
    };

    // 編輯開狀申請書 editHandler
    function editHandler() {
      queryForm.classList.add('hnb__hide');
      queryList.classList.add('hnb__hide');
      console.log('currentEditType', currentEditType);
      if (currentEditType === 'fpc') {
        lcAppList.classList.remove('hnb__hide');
      }
      if (currentEditType === 'other') {
        lcforOtherAppList.classList.remove('hnb__hide');
      }
    };

    // 開狀申請書類別變更(即期 / 遠期) changeLcType
    function changeLcType(type) {
      const lcType = document.querySelector('#lcType');
      const lcTypeDate = document.querySelector('#lcTypeDate');
      lcType.textContent = type;
      if (type === '遠期') {
        lcTypeDate.textContent = '以「定日付款」方式填寫到期日，期到期日為自匯票發票日起不超過 120 天。';
      } else {
        lcTypeDate.textContent = '見票即付。';
      };
    };

    // 月曆
    const dateAlert = document.querySelector(".dateAlert");
    const currentTime = new Date()
    const config = {
      locale: 'zh_tw',
      //enableTime: true, //可選時與分
      dateFormat: "Y/m/d", //時間格式
      time_24hr: true, //24 時制
      minuteIncrement: 15, //分鐘每次選擇間隔單位
      allowInput: true, //可輸入控制
      //minDate: "today", //可選最小時間，可直接接受 'today' 字串
      //maxDate: currentTime.setMonth(currentTime.getMonth() + 1), //可選最大時間，從今天起一個月
      onChange: function (selectedDates, dateStr, instance) {
        console.log(`你現在點選的是 ${instance.input.id}，時間為 ${selectedDates} / ${dateStr}`);
        checkDateTime(dateStr, instance.input.id);
      }
    };
    flatpickr('#startDate, #endDate', config);

    let startDateValue = null
    let endDateValue = null

    // 辨別結束日期須晚於開始日期
    function checkDateTime(dateStr, id) {
      if (id === "startDate") {
        startDateValue = dateStr
      }

      if (id === "endDate") {
        endDateValue = dateStr
      }

      if (startDateValue > endDateValue) {
        dateAlert.classList.remove("d-none");
      } else {
        dateAlert.classList.add("d-none");
      }
    };

    // 日期選擇器 - 有效期限 / 最後交貨日期 / 限定押匯日期
    flatpickr('#expDate, #deliveryDate, #draftDate', config);

  </script>
  <script src="../../assets/js/bootstrap.bundle.min.js"></script>
  <script src="../../assets/js/jquery-3.7.1.js"></script>
</body>

</html>